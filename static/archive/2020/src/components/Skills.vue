<template>
  <div class="skills-component">
    <h2>Skills</h2> 
    <div class="skills">
      <div class="skills__cont"
           :class="{expand: selectedSkill === null}">
        <div class="skill"
             v-for="(skill, idx) in skills"
             :key="skill.name"
             :class="{selected: idx === selectedSkill}"
             @click="toggleSkill(idx)">
          <div class="skill-name">{{skill.name}}</div>
          <div class="skill-blurb" v-html="skill.blurb"></div>
        </div>
      </div>
      <div class="tools"
           :class="{slide: selectedSkill !== null}">
        <div class="tools__cont">
        
          <div class="tool"
               v-for="(tool, tIdx) in displayTools"
               :key="tIdx"
               :class="{transition: showTransition}"
               :style="(desktop ? 'left:' : 'top:')+(20 + ((tIdx - selectedTools.length) * 100 / shownToolCount) - toolIter)+'%'"
               v-html="tool.logo">
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
export default {
  name: 'skills',
  data() {
    return {
      selectedSkill: null,
      desktop: false,
      toolIter: 0,
      showTransition: true,
      timeoutCont: null,
      skills: [{
        name: 'Web Frameworks',
        tag: 'framework',
        blurb: 'I have been working with web frameworks for over half a decade; they are my preferred tools to build with. I have worked with a variety of javascript, css, and backend frameworks. I am very used to picking up new frameworks quickly'
      }, {
        name: 'Build Systems',
        tag: 'build',
        blurb: 'I have implemented Webpack in multiple projects to interface with a variety of backends. I also use it in personal projects to incorporate my favorite css preprocessors and javascript frameworks (<a target="_self" href="https://glitch.com/edit/#!/itsnicholaifyi?path=src/components/Skills.vue">like in this website</a>)'
      }, {
        name: 'SAAS Platform Maintainance',
        tag: 'saas',
        blurb: 'I have maintained a SAAS platform professionally at my current employer since 2015. In my daily work, I am used to completing feature request, handling bugfixes, evaluating task ELO, and working within scrum/agile systems.'
      }],
      tools: [{
        name: 'Vue',
        logo: '<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Vue.js icon</title><path d="M19.197 1.608l.003-.006h-4.425L12 6.4v.002l-2.772-4.8H4.803v.005H0l12 20.786L24 1.608"/></svg>',
        tags: ['build', 'framework']
      }, {
        name: 'Angular JS',
        logo: '<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Angular icon</title><path d="M9.93 12.645h4.134L11.996 7.74M11.996.009L.686 3.988l1.725 14.76 9.585 5.243 9.588-5.238L23.308 3.99 11.996.01zm7.058 18.297h-2.636l-1.42-3.501H8.995l-1.42 3.501H4.937l7.06-15.648 7.057 15.648z"/></svg>',
        tags: ['saas', 'framework']
      }, {
        name: 'Wordpress',
        logo: '<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>WordPress icon</title><path d="M21.469 6.825c.84 1.537 1.318 3.3 1.318 5.175 0 3.979-2.156 7.456-5.363 9.325l3.295-9.527c.615-1.54.82-2.771.82-3.864 0-.405-.026-.78-.07-1.11m-7.981.105c.647-.03 1.232-.105 1.232-.105.582-.075.514-.93-.067-.899 0 0-1.755.135-2.88.135-1.064 0-2.85-.15-2.85-.15-.585-.03-.661.855-.075.885 0 0 .54.061 1.125.09l1.68 4.605-2.37 7.08L5.354 6.9c.649-.03 1.234-.1 1.234-.1.585-.075.516-.93-.065-.896 0 0-1.746.138-2.874.138-.2 0-.438-.008-.69-.015C4.911 3.15 8.235 1.215 12 1.215c2.809 0 5.365 1.072 7.286 2.833-.046-.003-.091-.009-.141-.009-1.06 0-1.812.923-1.812 1.914 0 .89.513 1.643 1.06 2.531.411.72.89 1.643.89 2.977 0 .915-.354 1.994-.821 3.479l-1.075 3.585-3.9-11.61.001.014zM12 22.784c-1.059 0-2.081-.153-3.048-.437l3.237-9.406 3.315 9.087c.024.053.05.101.078.149-1.12.393-2.325.609-3.582.609M1.211 12c0-1.564.336-3.05.935-4.39L7.29 21.709C3.694 19.96 1.212 16.271 1.211 12M12 0C5.385 0 0 5.385 0 12s5.385 12 12 12 12-5.385 12-12S18.615 0 12 0"/></svg>',
        tags: ['build', 'framework']
      }, {
        name: 'C#',
        logo: '<svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="400" viewBox="0, 0, 400,400"><g id="svgg"><path id="path1" d="M196.548 0.164 C 192.495 0.690,188.497 1.852,184.881 3.556 C 182.113 4.861,181.592 5.155,164.762 14.920 C 157.756 18.985,148.060 24.593,143.214 27.382 C 138.369 30.170,129.530 35.259,123.571 38.690 C 109.910 46.557,100.056 52.228,77.024 65.479 C 32.677 90.991,34.806 89.683,30.817 93.864 C 26.564 98.322,24.166 102.962,22.681 109.604 L 22.034 112.500 21.957 198.214 C 21.901 260.657,21.953 284.660,22.149 286.622 C 22.964 294.782,26.042 301.479,31.461 306.882 C 34.928 310.339,35.095 310.445,56.071 322.505 C 64.459 327.327,68.471 329.635,94.762 344.767 C 100.982 348.347,109.821 353.434,114.405 356.072 C 122.134 360.519,130.094 365.103,149.762 376.431 C 154.018 378.882,163.132 384.154,170.016 388.145 C 187.806 398.462,190.589 399.601,198.810 399.923 C 207.202 400.253,211.232 398.796,226.905 389.765 C 232.208 386.709,241.315 381.459,247.143 378.098 C 252.970 374.737,263.202 368.843,269.881 364.999 C 276.560 361.155,286.792 355.261,292.619 351.901 C 298.446 348.540,309.321 342.275,316.786 337.979 C 324.250 333.682,334.482 327.788,339.524 324.881 C 344.565 321.975,351.369 318.063,354.643 316.187 C 369.565 307.640,374.766 301.730,377.001 290.782 C 377.877 286.493,377.880 286.145,377.804 198.452 L 377.729 112.500 377.088 109.643 C 375.314 101.734,371.723 95.764,365.854 90.969 C 363.368 88.938,362.050 88.133,347.600 79.813 C 333.504 71.697,326.579 67.708,304.405 54.931 C 291.471 47.478,284.384 43.395,250.595 23.926 C 213.483 2.542,215.927 3.916,212.673 2.615 C 207.455 0.528,201.140 -0.432,196.548 0.164 M208.715 82.147 C 243.249 84.872,274.093 101.889,294.803 129.643 C 298.192 134.184,302.308 140.662,301.983 140.942 C 301.875 141.036,290.536 147.578,276.786 155.481 C 263.036 163.383,251.558 169.993,251.280 170.170 C 250.801 170.474,250.714 170.396,249.683 168.743 C 229.196 135.873,182.446 131.717,156.348 160.446 C 126.582 193.212,142.415 245.935,185.357 257.044 C 210.213 263.474,238.216 251.864,250.479 230.045 C 250.788 229.497,251.131 229.048,251.242 229.048 C 251.352 229.048,260.627 234.369,271.852 240.874 C 283.078 247.378,294.405 253.930,297.024 255.433 C 303.143 258.946,302.676 258.305,301.059 260.977 C 269.394 313.288,203.294 332.932,148.452 306.329 C 89.633 277.796,65.150 207.518,93.495 148.571 C 114.408 105.078,160.749 78.362,208.715 82.147 M316.190 176.908 L 316.190 181.674 323.274 181.611 L 330.357 181.548 330.422 176.845 L 330.486 172.143 336.315 172.143 L 342.143 172.143 342.143 176.905 L 342.143 181.667 346.909 181.667 L 351.675 181.667 351.611 187.440 L 351.548 193.214 346.842 193.279 L 342.136 193.343 342.199 200.422 L 342.262 207.500 346.969 207.565 L 351.675 207.629 351.611 213.398 L 351.548 219.167 346.845 219.231 L 342.143 219.296 342.143 223.934 L 342.143 228.571 336.315 228.571 L 330.486 228.571 330.422 223.869 C 330.386 221.283,330.277 219.193,330.179 219.226 C 330.080 219.259,326.893 219.286,323.095 219.286 L 316.190 219.286 316.190 223.929 L 316.190 228.571 310.362 228.571 L 304.534 228.571 304.469 223.914 L 304.405 219.256 299.762 219.211 L 295.119 219.167 295.055 213.398 L 294.992 207.629 299.698 207.565 L 304.405 207.500 304.468 200.422 L 304.531 193.343 299.825 193.279 L 295.119 193.214 295.055 187.446 L 294.992 181.677 299.698 181.612 L 304.405 181.548 304.469 176.845 L 304.534 172.143 310.362 172.143 L 316.190 172.143 316.190 176.908 M316.190 200.480 L 316.190 207.626 323.274 207.563 L 330.357 207.500 330.420 200.417 L 330.483 193.333 323.337 193.333 L 316.190 193.333 316.190 200.480 " stroke="none" fill-rule="evenodd"></path></g></svg>',
        tags: ['saas']
      }, {
        name: 'PHP',
        logo: '<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>PHP icon</title><path d="M7.01 10.207h-.944l-.515 2.648h.838c.556 0 .97-.105 1.242-.314.272-.21.455-.559.55-1.049.092-.47.05-.802-.124-.995-.175-.193-.523-.29-1.047-.29zM12 5.688C5.373 5.688 0 8.514 0 12s5.373 6.313 12 6.313S24 15.486 24 12c0-3.486-5.373-6.312-12-6.312zm-3.26 7.451c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164H5.357l-.327 1.681H3.652l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.476 1.002.33 1.752a2.836 2.836 0 0 1-.305.847c-.143.255-.33.49-.561.703zm4.024.715l.543-2.799c.063-.318.039-.536-.068-.651-.107-.116-.336-.174-.687-.174H11.46l-.704 3.625H9.388l1.23-6.327h1.367l-.327 1.682h1.218c.767 0 1.295.134 1.586.401s.378.7.263 1.299l-.572 2.944h-1.389zm7.597-2.265a2.782 2.782 0 0 1-.305.847c-.143.255-.33.49-.561.703a2.44 2.44 0 0 1-.917.551c-.336.108-.765.164-1.286.164h-1.18l-.327 1.682h-1.378l1.23-6.326h2.649c.797 0 1.378.209 1.744.628.366.417.477 1.001.331 1.751zM17.766 10.207h-.943l-.516 2.648h.838c.557 0 .971-.105 1.242-.314.272-.21.455-.559.551-1.049.092-.47.049-.802-.125-.995s-.524-.29-1.047-.29z"/></svg>',
        tags: ['saas']
      }, {
        name: 'Sass',
        logo: '<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Sass icon</title><path d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zM9.615 15.998c.175.645.156 1.248-.024 1.792l-.065.18c-.024.061-.052.12-.078.176-.14.29-.326.56-.555.81-.698.759-1.672 1.047-2.09.805-.45-.262-.226-1.335.584-2.19.871-.918 2.12-1.509 2.12-1.509v-.003l.108-.061zm9.911-10.861c-.542-2.133-4.077-2.834-7.422-1.645-1.989.707-4.144 1.818-5.693 3.267C4.568 8.48 4.275 9.98 4.396 10.607c.427 2.211 3.457 3.657 4.703 4.73v.006c-.367.18-3.056 1.529-3.686 2.925-.675 1.47.105 2.521.615 2.655 1.575.436 3.195-.36 4.065-1.649.84-1.261.766-2.881.404-3.676.496-.135 1.08-.195 1.83-.104 2.101.24 2.521 1.56 2.43 2.1-.09.539-.523.854-.674.944-.15.091-.195.12-.181.181.015.09.091.09.21.075.165-.03 1.096-.45 1.141-1.471.045-1.29-1.186-2.729-3.375-2.7-.9.016-1.471.091-1.875.256-.03-.045-.061-.075-.105-.105-1.35-1.455-3.855-2.475-3.75-4.41.03-.705.285-2.564 4.8-4.814 3.705-1.846 6.661-1.335 7.171-.21.733 1.604-1.576 4.59-5.431 5.024-1.47.165-2.235-.404-2.431-.615-.209-.225-.239-.24-.314-.194-.12.06-.045.255 0 .375.12.3.585.825 1.396 1.095.704.225 2.43.359 4.5-.45 2.324-.899 4.139-3.405 3.614-5.505l.073.067z"/></svg>',
        tags: ['build']
      }, {
        name: 'Less',
        logo: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve"><metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata><g><path d="M225.4,299c0,81.5,0,167.6,0,250.7c0,5.8-0.7,12.7,1.4,15.9c6.6,10.7,37.2-0.5,43,11.3c2,4,1.1,12.3,1.1,18.9c0,3.2,0,6.4,0,10c0,3,0.7,7.8,0,9.7c-0.8,2.1-10,4.5-12.4,5.1c-5,1.3-10.2,1.8-15.4,2.2c-12.3,0.7-22.6-1.2-31.1-3.5c-12.6-3.5-25.5-9.6-35.1-17.6c-2.8-2.3-7.5-6.3-8.4-8.9c-0.6-1.9-0.7-4.8-1.1-7.3c-2.4-17-3.5-35.9-4.3-54.3c-2.8-66,2.2-131.8,0-198c-20.8-5.2-27.6,10.8-45.1,11.3c-12.7,54.9,8.7,143.9-50.2,152.6c21.5,11.4,33.8,28.1,40.8,55.1c6,23.1,6.6,50.1,4.6,77.5c-0.6,7.8-1.3,14.6,2.2,20c6.7,10.4,25.1,11.7,30.3,23.8c1.6,3.8,2.3,11.4,0.8,15.7c-1.1,3.2-4.9,6.1-8.1,8.1c-18,11.5-49,3.6-65.1-4.6c-3.2-1.6-6.8-3.7-10-6.2c-3.1-2.4-6.6-5.2-7.8-8.1c-0.8-1.8-1.1-4.5-1.6-7c-3.2-15.4-3.8-36.7-4.1-55.1c-0.2-10.9,0-22.4,0-34c0-14.4,2.4-31.5-3.2-40.5c-8-12.8-31.2-14.4-35.4-32.4c-2-8.5-1-20.4,4.1-26.5c7.1-8.7,20.5-11.6,28.6-20c2.5-2.5,5.5-6.5,5.9-10c0.3-2.3-0.6-5.2-1.1-7.8c-2.9-17-5.2-37.3-3.5-57.3c5-59.6,42-87.4,101.8-92.4C173.4,293.3,200.6,295.5,225.4,299z"/><path d="M847.8,701.2c-2.2-8.5-2.4-17.8,0.8-24.6c5-10.6,17.7-14.6,26.2-22.4c2.8-2.6,6.1-6.4,6.8-9.5c0.6-2.9-0.1-8-0.3-11.6c-2.6-58.2,0-117.1,45.1-129.9c-2.2-2-4.9-3.2-7.3-4.9c-30.4-21-40.1-63.1-38.6-116.2c0.1-3.7,0.3-7.6,0.5-11.3c0.4-6.8,1.1-13-1.3-18.1c-6.3-13.2-27.7-14.3-33.2-28.9c-2.8-7.3-1.3-16.6,1.4-24.9c4.8-0.3,10.7-1.1,15.9-1.4c42.5-2,66.9,17.9,77.8,48.1c8.5,23.5,10.2,52,9.5,84.3c-0.1,4.7-0.6,9.8-0.8,14.9c-0.2,4.9-0.9,10.1,0,14.6c3.8,19.5,32.6,14.4,38.4,32.7c3,9.3,1.2,21-3.5,27.8c-7.9,11.5-25.4,14.8-36.7,24c-1.7,1.4-3.8,3.5-4.1,4.6c-0.4,1.8,0.1,5.3,0.3,8.1c1.8,37.7,4.9,82.4-6.8,112.1c-6.2,15.8-16.5,27.4-32.7,33C888.8,707.4,864.7,705.8,847.8,701.2z"/><path d="M468.8,525.7c-47.2,0-94.4,0-141.5,0c-0.2,30.2,17.3,44.2,43.8,48.1c28.2,4.1,58-3,80.8-8.6c0.5,18.2,9.7,31.9,5.7,51.3c-19.3,4.1-38.4,7.9-60,8.4c-22.5,0.5-43.8-1.5-61-6.8c-34.6-10.4-60.6-31.9-69.7-67c-10.6-40.9-1.3-84.7,14.9-112.6c8.4-14.5,19.3-26.3,32.7-35.7c13.6-9.6,31.2-16.6,51.9-17.6c20.5-1,39.6,2.8,53.2,9.5c14,6.9,24.3,17.4,32.7,30c8,12,14.8,27,18.1,44.6C473.5,486.7,473.5,507.4,468.8,525.7z M400.5,447.6c-8.2-7.2-19.7-11.8-34.3-10.8c-23.1,1.6-40.4,17.2-39.2,43.2c27.8,0.6,56.8,0.1,85.1,0.3C413.6,465.8,408.6,454.8,400.5,447.6z"/><path d="M644.1,401.1c-1.1,17.8-5.9,31.8-11.1,45.4c-12.9-4.4-28.4-10.1-45.4-11.1c-19.2-1.1-33.3,3.6-39.7,16.5c13.3,33.9,68.8,26.8,92.1,51.6c1.6,1.7,3.5,3.6,4.3,5.1c1,2.1,1.4,4.9,2.2,7.3c4.8,16.4,7.3,39.4,1.1,56.5c-6.5,18.1-20.2,30.6-35.9,38.9c-16.4,8.7-37.3,13.2-60.8,14.3c-23.3,1.1-46.4-3.5-65.4-9.5c-2.7-21.3,5.1-36.4,11.1-50.8c2,0.4,3.8,1.4,5.7,2.2c25.4,10.8,81.5,17,90.8-13.2c-5.7-12.3-14.7-20.2-26.2-25.4c-12-5.4-25.9-8-39.4-11.9c-13.4-3.9-24.9-9.1-32.4-19.2c-3.5-4.7-6.2-10.6-8.4-17.3c-2.1-6.4-3.8-13.9-3.8-21.9c-0.1-24.1,14.1-41.3,28.9-51.6c15.8-11,37.4-18.3,61.9-19.4C602.5,386.3,624.6,392.5,644.1,401.1z"/><path d="M819.7,401.1c3.2,15.7-3.5,27.4-5.9,40c-7.5,3.2-16.2,1.1-24-0.5c-7.7-1.6-15.6-3.5-23.2-4.6c-15.7-2.3-29.6-0.7-35.4,11.1c-0.7,1.5-1.9,3.4-1.9,4.9c0,2.9,3.3,8.7,4.6,10.8c5.9,9.5,16.3,15,28.1,17.8c17.4,4.1,36.1,4,48.1,13c3.2,2.4,5.8,5.8,8.4,8.9c8.9,10.8,17.3,24.8,15.9,45.4c-1.3,19-11.9,33.5-22.7,44.3c-21.5,21.5-54.2,36.7-97,36.7c-19.6,0-38.6-5.2-53.8-13c-2.9-22.4,9.9-31.6,11.3-50.5c2.1,0.1,3.8,1.4,5.7,2.2c5.9,2.2,12.3,3.9,18.9,5.4c25,5.8,58,5.8,69.2-13.2c1.1-1.8,2.4-4.3,2.4-5.7c0.1-3.3-4.7-10.5-6.5-12.7c-17.7-21-56.7-19.1-80-35.1c-3.9-2.7-8.3-5.9-10-9.2c-1.4-2.6-2.3-6.7-3.2-9.7c-2.8-9.1-5.4-21.6-4.3-33.2c1.4-15.8,7.4-26.9,15.1-35.7c15.5-17.6,41.2-28.8,72.7-30.3C779.8,386.9,801.1,392.9,819.7,401.1z"/></g></svg>',
        tags: ['saas']
      }, {
        name: 'Webpack',
        logo: '<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Webpack icon</title><path d="M21.0157 18.1202L12.351 23v-3.8007l5.3986-2.9567 3.266 1.8776zm.5927-.5344V7.3805l-3.1708 1.822v6.5593l3.1708 1.824zm-18.6827.5344L11.5904 23v-3.8007l-5.3986-2.9567-3.266 1.8776zm-.5927-.5344V7.3805l3.1707 1.822v6.5593l-3.1707 1.824zm.371-10.8656l8.8864-5.0056v3.6748L5.8974 8.507l-.0434.0248-3.15-1.8116zm18.5335 0L12.351 1.7146v3.6748l5.693 3.1177.0434.0248 3.15-1.8116zm-9.647 11.6146l-5.3262-2.9155V9.642l5.326 3.062v5.6308zm.7605 0l5.326-2.9155V9.642l-5.326 3.062v5.6308zM6.625 8.9734l5.3467-2.928 5.3468 2.928-5.3468 3.0744L6.625 8.9734z"/></svg>',
        tags: ['build']
      }, {
        name: 'Git',
        logo: '<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Git icon</title><path d="M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187"/></svg>',
        tags: ['saas']
      }, {
        name: 'NPM',
        logo: '<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>NPM icon</title><path d="M0 7.334v8h6.666v1.332H12v-1.332h12v-8H0zm6.666 6.664H5.334v-4H3.999v4H1.335V8.667h5.331v5.331zm4 0v1.336H8.001V8.667h5.334v5.332h-2.669v-.001zm12.001 0h-1.33v-4h-1.336v4h-1.335v-4h-1.33v4h-2.671V8.667h8.002v5.331zM10.665 10H12v2.667h-1.335V10z"/></svg>',
        tags: ['build']
      }, {
        name: 'AWS',
        logo: '<svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 24 24"><title>Amazon AWS icon</title><path d="M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335a.383.383 0 0 1-.208.072c-.08 0-.16-.04-.239-.112a2.47 2.47 0 0 1-.287-.375 6.18 6.18 0 0 1-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.67 0-1.205-.191-1.596-.574-.391-.384-.59-.894-.59-1.533 0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583c0-.607-.127-1.03-.375-1.277-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103-.295.072-.583.16-.862.272a2.287 2.287 0 0 1-.28.104.488.488 0 0 1-.127.023c-.112 0-.168-.08-.168-.247v-.391c0-.128.016-.224.056-.28a.597.597 0 0 1 .224-.167c.279-.144.614-.264 1.005-.36a4.84 4.84 0 0 1 1.246-.151c.95 0 1.644.216 2.091.647.439.43.662 1.085.662 1.963v2.586zm-3.24 1.214c.263 0 .534-.048.822-.144.287-.096.543-.271.758-.51.128-.152.224-.32.272-.512.047-.191.08-.423.08-.694v-.335a6.66 6.66 0 0 0-.735-.136 6.02 6.02 0 0 0-.75-.048c-.535 0-.926.104-1.19.32-.263.215-.39.518-.39.917 0 .375.095.655.295.846.191.2.47.296.838.296zm6.41.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55a1.398 1.398 0 0 1-.072-.32c0-.128.064-.2.191-.2h.783c.151 0 .255.025.31.08.065.048.113.16.16.312l1.342 5.284 1.245-5.284c.04-.16.088-.264.151-.312a.549.549 0 0 1 .32-.08h.638c.152 0 .256.025.32.08.063.048.12.16.151.312l1.261 5.348 1.381-5.348c.048-.16.104-.264.16-.312a.52.52 0 0 1 .311-.08h.743c.127 0 .2.065.2.2 0 .04-.009.08-.017.128a1.137 1.137 0 0 1-.056.2l-1.923 6.17c-.048.16-.104.263-.168.311a.51.51 0 0 1-.303.08h-.687c-.151 0-.255-.024-.32-.08-.063-.056-.119-.16-.15-.32l-1.238-5.148-1.23 5.14c-.04.16-.087.264-.15.32-.065.056-.177.08-.32.08zm10.256.215c-.415 0-.83-.048-1.229-.143-.399-.096-.71-.2-.918-.32-.128-.071-.215-.151-.247-.223a.563.563 0 0 1-.048-.224v-.407c0-.167.064-.247.183-.247.048 0 .096.008.144.024.048.016.12.048.2.08.271.12.566.215.878.279.319.064.63.096.95.096.502 0 .894-.088 1.165-.264a.86.86 0 0 0 .415-.758.777.777 0 0 0-.215-.559c-.144-.151-.416-.287-.807-.415l-1.157-.36c-.583-.183-1.014-.454-1.277-.813a1.902 1.902 0 0 1-.4-1.158c0-.335.073-.63.216-.886.144-.255.335-.479.575-.654.24-.184.51-.32.83-.415.32-.096.655-.136 1.006-.136.175 0 .359.008.535.032.183.024.35.056.518.088.16.04.312.08.455.127.144.048.256.096.336.144a.69.69 0 0 1 .24.2.43.43 0 0 1 .071.263v.375c0 .168-.064.256-.184.256a.83.83 0 0 1-.303-.096 3.652 3.652 0 0 0-1.532-.311c-.455 0-.815.071-1.062.223-.248.152-.375.383-.375.71 0 .224.08.416.24.567.159.152.454.304.877.44l1.134.358c.574.184.99.44 1.237.767.247.327.367.702.367 1.117 0 .343-.072.655-.207.926-.144.272-.336.511-.583.703-.248.2-.543.343-.886.447-.36.111-.734.167-1.142.167zM21.698 16.207c-2.626 1.94-6.442 2.969-9.722 2.969-4.598 0-8.74-1.7-11.87-4.526-.247-.223-.024-.527.272-.351 3.384 1.963 7.559 3.153 11.877 3.153 2.914 0 6.114-.607 9.06-1.852.439-.2.814.287.383.607zM22.792 14.961c-.336-.43-2.22-.207-3.074-.103-.255.032-.295-.192-.063-.36 1.5-1.053 3.967-.75 4.254-.399.287.36-.08 2.826-1.485 4.007-.215.184-.423.088-.327-.151.32-.79 1.03-2.57.695-2.994z"/></svg>',
        tags: ['saas']
      }, {
        name: 'JQuery',
        logo: '<svg xmlns="http://www.w3.org/2000/svg" role="img" viewBox="0 0 24 24"><title>jQuery icon</title><path d="M1.534 5.874c-2.123 3.05-1.86 7.017-.237 10.256.037.079.078.154.118.229.023.052.049.1.077.149.013.028.031.057.047.083.026.052.054.102.081.152l.157.265c.029.049.057.097.09.146.055.094.12.187.177.281.026.039.05.078.079.117a6.36 6.36 0 0 0 .31.444c.078.107.156.211.24.315.027.038.057.076.085.114l.221.269c.027.031.054.067.083.099.098.118.202.233.306.349 0 .002.003.004.005.007a3.13 3.13 0 0 0 .424.44c.08.082.16.164.245.244l.101.097c.111.104.222.208.339.308.002 0 .003.002.005.003l.057.05c.102.089.205.178.31.26l.125.105c.085.068.173.133.26.2l.136.104c.093.07.192.139.287.207.035.025.07.05.106.073l.029.023.281.185.12.08c.147.094.293.183.438.271.042.021.084.044.123.068.108.062.22.125.329.183.06.034.122.063.184.094.075.042.153.083.233.125a.324.324 0 0 1 .056.023c.033.015.064.031.096.047.12.06.245.117.375.174.024.01.05.02.076.034.144.063.288.123.437.182.034.01.07.027.105.04.135.051.274.103.411.152l.05.018c.153.052.304.102.459.15.036.01.073.023.111.033.159.048.313.105.473.136 10.26 1.87 13.242-6.169 13.242-6.169-2.505 3.262-6.95 4.122-11.16 3.165-.156-.036-.312-.086-.469-.132a13.522 13.522 0 0 1-.567-.181l-.062-.024c-.136-.046-.267-.097-.4-.148a1.613 1.613 0 0 0-.11-.041c-.147-.059-.29-.12-.432-.183-.031-.01-.057-.024-.088-.036a23.41 23.41 0 0 1-.361-.17c-.037-.016-.07-.033-.106-.052-.094-.044-.188-.094-.28-.142a3.942 3.942 0 0 1-.187-.096c-.113-.06-.226-.125-.339-.187-.034-.024-.073-.044-.112-.066a15.902 15.902 0 0 1-.438-.269 2.104 2.104 0 0 1-.118-.079 6.002 6.002 0 0 1-.312-.206c-.035-.023-.067-.048-.103-.073a9.541 9.541 0 0 1-.294-.212c-.042-.034-.087-.066-.132-.1-.088-.069-.177-.135-.265-.208l-.118-.094a10.58 10.58 0 0 1-.334-.281.258.258 0 0 0-.037-.03l-.347-.316-.1-.094c-.082-.083-.166-.163-.25-.245l-.097-.1a9.07 9.07 0 0 1-.309-.323l-.015-.016c-.106-.116-.209-.234-.313-.354-.027-.031-.052-.064-.08-.097l-.226-.277a21.248 21.248 0 0 1-.34-.448C2.16 11.786 1.315 7.386 3.184 3.777M8.121 3.305c-1.539 2.209-1.452 5.163-.254 7.499a9.1 9.1 0 0 0 .677 1.132c.23.33.484.72.792.986.107.122.223.24.344.359l.09.09c.114.11.231.218.35.325l.015.013a9.855 9.855 0 0 0 .414.342c.034.023.063.05.096.073.14.108.281.212.427.315l.015.009c.062.045.128.086.198.13.028.018.06.042.09.06.106.068.21.132.317.197.017.007.032.016.048.023.09.055.188.108.282.157.033.02.065.035.099.054.067.033.133.068.197.102l.032.014c.135.066.273.128.408.19.034.013.063.024.092.038.111.048.224.094.335.137.05.017.097.037.144.052.102.038.209.073.31.108l.14.045c.146.045.294.104.448.129 7.92 1.313 9.754-4.787 9.754-4.787-1.651 2.376-4.846 3.508-8.251 2.624a8.03 8.03 0 0 1-.448-.13c-.048-.013-.09-.028-.136-.042-.104-.036-.211-.071-.312-.109l-.144-.054c-.112-.045-.226-.087-.335-.135-.034-.015-.065-.025-.091-.04-.14-.063-.281-.125-.417-.192l-.206-.107-.119-.06c-.092-.048-.177-.098-.265-.15a.62.62 0 0 1-.062-.034c-.106-.066-.216-.13-.317-.198-.034-.019-.065-.042-.097-.062l-.208-.136c-.144-.1-.285-.208-.427-.312-.032-.029-.063-.053-.094-.079-1.497-1.177-2.678-2.786-3.238-4.608-.59-1.894-.46-4.018.559-5.742M13.66 1.384c-.908 1.332-.995 2.986-.37 4.455.664 1.56 2.022 2.785 3.604 3.365.065.025.128.046.195.07l.088.027c.092.029.185.063.28.084 4.376.844 5.56-2.247 5.879-2.701-1.042 1.496-2.789 1.855-4.932 1.334a4.844 4.844 0 0 1-.516-.16 6.344 6.344 0 0 1-.617-.254 6.521 6.521 0 0 1-1.08-.66c-1.92-1.454-3.109-4.23-1.857-6.491"/></svg>',
        tags: ['framework']
      }]
    }
  },
  mounted() {
    console.log('skills mounted', this)
                
    this.desktop = window.innerWidth >= 968;
    if(this.desktop) {
      this.toggleSkill(0)
    }
    window.addEventListener('resize', ()=>{
        this.desktop = window.innerWidth >= 968;
    })
  },
  computed: {
    shownToolCount() {
      return this.desktop ? 10 : 5;
    },
    selectedTools() {
      if(this.selectedSkill === null)
        return []
      
      return this.tools.filter((tool) => tool.tags.filter((tag) => tag === this.skills[this.selectedSkill].tag).length > 0)
    },
    displayTools() {
      let toReturn = []
      
      let limit = (this.selectedTools.length > this.shownToolCount ? this.selectedTools.length : this.shownToolCount) * 3 
      if(this.selectedTools.length > 0) 
        for(let i = 0; i < limit; i++)
          toReturn.push(this.selectedTools[i % this.selectedTools.length])
      
      return toReturn
    },
    timerLimit() {
      return (this.selectedTools.length * 100 / this.shownToolCount)
    }
  },
  methods: {
    toggleSkill(idx) {
      this.showTransition = false
      this.selectedSkill = this.selectedSkill === idx ? null : idx
      this.stopIter()
      
      if(this.selectedSkill !== null)
        setTimeout(this.iterTools, 100)
      
      console.log('toggle skills', this, idx)
    },
    stopIter() {
      clearTimeout(this.timeoutCont)
      this.toolIter = 0
    },
    iterTools() {
      let interval = 1000
      
      if(this.toolIter >= this.timerLimit) {
        this.showTransition = false
        interval = 100
        this.toolIter = 0
      } else if((this.toolIter + 5) >= this.timerLimit) {
        this.showTransition = false
        interval = 10
        this.toolIter += this.desktop ? 0.05 : 0.1
      } else {         
        this.showTransition = true
        this.toolIter +=  this.desktop ? 5 : 10
      }
      this.timeoutCont = setTimeout(this.iterTools, interval)
    }
  }
}
</script>
<style lang="scss">
  @import "../_mixins";
  $toolsWidth: 90px;
  $shownToolCount: 4;
  $toolBrightness: 15%;
  .skills {
    position: relative;
    width: 100%;
    @media (max-width: $mobile) {
      display: flex;
    }
    overflow: hidden;
    h2 {
      width: 100%;
    }
    &__cont {
      width: calc(100% - #{$toolsWidth});
      flex-grow: 1;
      transition: $transition;
      margin-right: $padding;
      @media (min-width: $mobile) {
        display: flex;
        width: 100%;
      }
      &.expand {
        width: 100%;
        margin-right: 0;
      }
      .skill {
        cursor: pointer;
        
        @include corner-border();
        
        & + .skill {
          margin-top: $padding;
        }
        
        @media (min-width: $mobile) {
          width: 33%;
          & + .skill {
            margin-top: 0;
            margin-left: $padding;
          }
        }
        &-name {
          font-weight: 700;
          position: relative;
          padding: 10px;
          //@include smart-hover();
        }
        &-blurb {
          @media (max-width: $mobile) {
            display: none;
          }
          padding: 0 10px 10px;
        }
        
        &.selected .skill-blurb {
            display: block;
        }

      }

      
    }
    .tools {
      position: relative;
      width: 0;
      transition: $transition;
      opacity: 0;
      border: 0 solid $accent-color;
      border-radius: $border-radius;
      background-color: $bg-color;
      flex-shrink: 0;
      @media (min-width: $mobile) {
        height: 0;
        width: 100%;
        margin-top: 0;
        //transition: ($transition-time * 2) ease all;
      }
      &.slide {
        width: calc(#{$toolsWidth} - #{$padding});
        border-width: $border-width;
        //background: $bg-color;
        right: 0;
        opacity: 1;
        @media (min-width: $mobile) {
          width: 100%;
          height: 74px;
          margin-top: $padding;
        }
      }
      &__cont {
        position: absolute;
        top: 0;
        left: 0;
        
        width: calc(100% - 20px);
        height: calc(100% - 20px);
        margin: 10px;
        overflow: hidden;
        
        &:before {
          content:'';
          position: absolute;
          z-index: 1;
          top: 0;
          left: 0;
          width: 100%;
          height: 20px;
          background-image: linear-gradient(to top, rgba($bg-color,0), rgba($bg-color,1));
          @media (min-width: $mobile) {
            width: 20px;
            height: 100%;
            background-image: linear-gradient(to left, rgba($bg-color,0), rgba($bg-color,1));
          }
        }
        &:after {
          content:'';
          position: absolute;
          bottom: 0;
          right: 0;
          width: 100%;
          height: 40px;
          background-image: linear-gradient(to bottom, rgba($bg-color,0), rgba($bg-color,1));
          @media (min-width: $mobile) {
            width: 20px;
            height: 100%;
            background-image: linear-gradient(to right, rgba($bg-color,0), rgba($bg-color,1));
          }
        }
      }
      .tool {
        position: absolute;
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center;
        width: 100%;
        padding-bottom: 100%;
        @media (min-width: $mobile) {
          width: 50px;
          padding-bottom: 0;
          height: 50px;
        }
        svg {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: calc(100% - 10px);
          margin: 5px 0;
          fill: $text-color;
        }
        &.transition {
          transition: 1000ms linear;
        }
      }
    }   
  }
</style>